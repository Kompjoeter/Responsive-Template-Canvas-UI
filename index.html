<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Canvas UI</title>
    <link rel="stylesheet" type="text/css" href="main.css">
</head>
<body>
    <div class="canvas-holder">
        <div class="active" id="menu">
            <div class="menu-bar">
                <button id="menu-toggle" onclick="menuToggle()">▽</button>
                <button id="sub-menu-nav-toggle" onclick="subMenuNavToggle()">Menu One</button>
            </div>
            <div id="sub-menu-holder">
                <div id="sub-menu-nav">
                    <button class="sub-menu-toggle active" name="sub-menu-0" onclick="subMenuToggle(this)">Sub-Menu-Zero</button>
                    <button class="sub-menu-toggle" name="sub-menu-1" onclick="subMenuToggle(this)">Sub-Menu-One</button>
                    <button class="sub-menu-toggle" name="sub-menu-2" onclick="subMenuToggle(this)">Sub-Menu-Two</button>
                </div>

                <div class="sub-menu active" name="sub-menu-0">
                    <input type='button' value='Button'>
                    <input type='button' value='Button'>
                    <input type='button' value='Button'>
                    <input type='button' value='Button'>
                    <div class='input-range'>
                        <label for="range-0">Range-0</label>
                        <input type='range' class="slider" id='range-0' name='range-0' displayName='Range-0' oninput='displayValue(this)'>
                    </div>
                    <div class='input-range'>
                        <label for="range-1">Range-1</label>
                        <input type='range' class="slider" id='range-1' name='range-1' displayName='Range-1' oninput='displayValue(this)'>
                    </div>
                </div>


                <div class="sub-menu" name="sub-menu-1">
              
                </div>
                <div class="sub-menu" name="sub-menu-2">

                </div>
            </div>
        </div>

        <canvas id="canvas"></canvas>
    </div>
</body>

<script>
     let c = document.getElementById('canvas');
    c.width = window.innerWidth;
    c.height = window.innerHeight;

    let ctx = c.getContext("2d");
    ctx.fillStyle = "#333";
    ctx.fillRect(0,0,c.width,c.height);

    var subMenuActive =  document.querySelector(".sub-menu.active");

    onload = function initialize()
    {
        subMenuActive.style.display = 'grid';
        subMenuNavDisplayActive();
        menuToggle();
        let slider = document.getElementsByClassName('slider');
        for(let i = 0; i < slider.length; i++)
        {
            displayValue(slider[i]);
        }
    }

    function menuToggle()
    {
        let menu = document.getElementById('menu');
        let menuToggle = document.getElementById('menu-toggle');
        let subMenuNavToggle = document.getElementById('sub-menu-nav-toggle');
        let subMenuHolder = document.getElementById('sub-menu-holder');

        menu.classList.toggle('active');
        menuToggle.classList.toggle('active');

        if(menu.classList.contains('active'))
        {
            menuToggle.innerText = "△";
            subMenuNavToggle.style.display = 'initial';
            subMenuHolder.style.display = 'initial';
        }
        else
        {
            menuToggle.innerText = "▽";
            subMenuNavToggle.style.display = 'none';
            subMenuHolder.style.display = 'none';
        }
    }

    function subMenuNavToggle()
    {
        let subMenuNav = document.getElementById('sub-menu-nav');
        let subMenuHolder = document.getElementById('sub-menu-holder');

        subMenuNav.classList.toggle('active');

        if (subMenuNav.classList.contains('active'))
        {
            subMenuNav.style.display = 'grid';
            subMenuHolder.style.padding = '0';
            subMenuActive.style.display = 'none';
        }
        else
        {
            subMenuNav.style.display = 'none';
            subMenuHolder.style.padding = '1em';
            subMenuActive.style.display = 'grid';
        }

        subMenuNavDisplayActive();
    }

    function subMenuNavDisplayActive()
    {
        //Display Active Sub-Menu on Sub-Menu-Nav-Toggle 
        let target = '.sub-menu-toggle[name='+subMenuActive.getAttribute('name')+']';
        let subMenuToggle = document.querySelector(target);
        let subMenuSymbol = '▽';
        if (document.getElementById('sub-menu-nav').classList.contains('active'))
        {
            subMenuSymbol = '△';
        }
        document.getElementById('sub-menu-nav-toggle').innerText = subMenuToggle.innerText +' '+subMenuSymbol;
    }

    function subMenuToggle(target)
    {
        let selectorString = '.sub-menu[name='+target.name+']';
        let targetSubMenu = document.querySelector(selectorString);
        let subMenuToggleActive = document.querySelector('.sub-menu-toggle.active');

        subMenuToggleActive.classList.toggle('active');
        target.classList.toggle('active');
        subMenuActive.classList.toggle('active');
        targetSubMenu.classList.toggle('active');
        subMenuActive = targetSubMenu;

        subMenuNavDisplayActive();
        subMenuNavToggle();
    }

    function displayValue(target)
    {
        let selectorString = '[for="'+target.id+'"]';
        selectorString.charAt(0).toUpperCase();
        document.querySelector(selectorString).innerHTML = target.getAttribute('displayName') +': '+ '<b>'+target.value+'</b>';
    }


</script>

</html>